{"version":3,"sources":["../../src/pages/observation/observation.module.ts","../../src/pages/observation/observation.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { ObservationPage } from './observation';\nimport { HttpModule,Http } from '@angular/http';\n\nexport function createTranslateLoader(http: Http) {\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n}\n\n@NgModule({\n  declarations: [\n    ObservationPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ObservationPage),\n    TranslateModule.forChild({\n      loader: {\n                provide: TranslateLoader,\n                useFactory: (createTranslateLoader),\n                deps: [Http]\n              }\n    })\n  ],\n  exports: [\n    ObservationPage\n  ]\n})\nexport class ObservationPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/observation/observation.module.ts","import { Component,ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, ActionSheetController, AlertController, Platform } from 'ionic-angular';\nimport { NativeStorage } from '@ionic-native/native-storage';\nimport { SocialSharing } from '@ionic-native/social-sharing';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Content } from 'ionic-angular';\n\nimport {PhenoApi} from '../../providers/pheno-api/pheno-api';\n\n/**\n * Generated class for the ObservationPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-observation',\n  templateUrl: 'observation.html',\n})\nexport class ObservationPage {\n\n  @ViewChild(Content) content: Content;\n\n  private observationId:Number;\n  private userId:any; //logged in user id\n  private observation:any;\n  private isEditting: any; \n  private comments: any;\n  private lang: any;\n  private user:any={\n    type:3\n  };\n  private message:any;\n  private response:any;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams, \n    private nativeStorage: NativeStorage,\n    private phenoApi: PhenoApi,\n    private translate: TranslateService,\n    private socialSharing: SocialSharing,\n    private toastCtrl:ToastController,\n    public actionSheetCtrl: ActionSheetController,\n    private alertCtrl:AlertController,\n    private platform: Platform\n  \n  ) {\n\n    this.observationId = this.navParams.get('id'); //getting the observatin id parameter\n    this.observation={};\n    this.isEditting=false;\n    this.comments=[];\n\n    this.lang='en';\n\n    this.translate.setDefaultLang(this.lang);\n\n    this.translate.get('ERROR').subscribe(\n      value => {\n        // value is our translated string\n        console.log(\"wheather status \"+value);\n      }\n    )\n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ObservationPage '+this.observationId);\n    this.getObservationDetails();\n    this.getUserFromStorage();\n    this.user.type=3; //3 by default\n  }\n\n  getUserFromStorage(){\n    // console.log(\"getting user from storage\");\n    this.nativeStorage.getItem('user')\n    .then(\n      data => {\n        console.log(data),\n        this.user=data},\n      error => console.error(error)\n    );\n  }\n\n  getObservationDetails(){ //getting observation's details from API\n  \n    console.log(\"getting observation details from API!\");\n\n    this.phenoApi.getObservationDetails(this.observationId,'null').subscribe(\n      data => {this.observation=data[0]},\n      err => console.error(err),\n      () => {this.showObservationDetails(),this.getObservationComments()}\n    );\n  }\n\n  showObservationDetails(){ //something to do when observations is retrieved? stats?\n    \n    console.log(this.observation)\n    \n  }\n\n  getObservationComments(){\n    console.log(\"getting observation comments from API!\");\n    this.phenoApi.getObservationComments(this.observationId).subscribe(\n      data => {this.comments=data.comments,this.observation.comments=data.count},\n      err => console.error(err),\n      () => console.log(this.comments)\n    );\n  } \n\n  openShareDialog(message, subject, file, url){\n    this.socialSharing.share(message, subject, file, url)\n  }\n\n  //view observation in map\n  viewInMap(){\n    this.navCtrl.push('ObservationMapPage',{observation:this.navParams.get('id')})\n  }\n\n  //like observation\n  liked(){\n    console.log(\"liked!\");\n        if(this.user.id=='null' || this.user.id==undefined){\n          this.navCtrl.push('LoginPage',{destination:ObservationPage,id:this.navParams.get('id')});\n        }else{\n            let like={\n              iduser:parseInt(this.user.id),\n              idobservation:this.navParams.get('id'),\n            }\n\n            this.phenoApi.postLike(like).subscribe( //post comment trought api\n              data => {this.observation.likes=data.likes,this.observation.userLikes=data.liked},\n              err => console.error(err),\n              () => this.getObservationComments()  //refresh the comments\n            );\n\n        }\n  }\n\n  sendComment(){ //send comment function\n\n    this.nativeStorage.getItem('user').then((user) => { //check if user is logged\n        if(user.id=='null' || user.id==undefined){\n          this.navCtrl.push('LoginPage',{destination:ObservationPage,id:this.navParams.get('id')});\n        }else{\n\n          if(this.message!=\"\"){\n\n            let sentcomment={\n              iduser:parseInt(user.id),\n              idobservation:this.navParams.get('id'),\n              comment:this.message\n            }\n\n            this.phenoApi.postComment(sentcomment).subscribe( //post comment trought api\n              data => {this.response=data},\n              err => console.error(err),\n              () => this.getObservationComments()  //refresh the comments\n            );\n            \n            this.content.scrollToBottom(); //scroll to bottom\n            \n            this.message = null; //clears the input\n            \n          }   \n\n          let toast = this.toastCtrl.create({\n            message: 'Comment was added successfully',\n            duration: 2000\n          });\n\n          toast.present();\n        }\n    });\n  }\n  \n  showActions(){\n    switch(this.user.type){\n      case 1:\n        this.showActionsForAdmins();\n        break;\n      \n      case 2:\n        this.showActionsForTeacher();\n        break;\n    }\n  }\n  \n  showActionsForTeacher(){\n    let actionSheet = this.actionSheetCtrl.create({\n     title: 'Actions for teachers',\n     buttons: [\n       {\n         text: 'Validate',\n         icon: !this.platform.is('ios') ? 'checkmark-circle' : null,\n         handler: () => {\n           console.log('Validate clicked');\n           this.validateObservation(this.observationId);\n         }\n       },\n       {\n        text: 'Best example',\n        icon: !this.platform.is('ios') ? 'ribbon' : null,\n        handler: () => {\n          console.log('best example clicked');\n          this.bestExample(this.observationId);\n        }\n      },\n       {\n         text: 'Remove',\n         role: 'destructive',\n         icon: !this.platform.is('ios') ? 'trash' : null,\n         handler: () => {\n           console.log('remove clicked');\n           this.deleteObservation(this.observationId,this.userId)\n         }\n       }\n     ]\n   });\n   \n   actionSheet.present();\n  }\n  \n  showActionsForAdmins(){\n    let actionSheet = this.actionSheetCtrl.create({\n     title: 'Actions for Admins',\n     buttons: [\n       {\n         text: 'Validate',\n         icon: !this.platform.is('ios') ? 'checkmark-circle' : null,\n         handler: () => {\n           console.log('Validate clicked');\n           this.validateObservation(this.observationId);\n         }\n       },\n       {\n        text: 'Best example',\n        icon: !this.platform.is('ios') ? 'ribbon' : null,\n        handler: () => {\n          console.log('Best example clicked');\n          this.bestExample(this.observationId);\n        }\n      },\n       {\n         text: 'Delete',\n         icon: !this.platform.is('ios') ? 'trash' : null,\n         role: 'destructive',\n         handler: () => {\n           this.deleteObservation(this.observationId,this.userId)\n         }\n       },\n       {\n        text: 'Cancel',\n        handler: () => {\n        }\n      }\n     ]\n   });\n   \n   actionSheet.present();\n  }\n\n  deleteObservation(id,iduser){\n\n    let confirm = this.alertCtrl.create({\n      title: 'Delete observation',\n      message: 'Are you sure to delete this observation?',\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Delete',\n          handler: () => {\n            console.log('Delete clicked');\n            this.phenoApi.deleteObservation(id,iduser).subscribe(\n              data => {},\n              err => console.log(err),\n              () => this.navCtrl.setRoot('ObservationListPage')\n            );\n          }\n        }\n      ]\n    });\n\n    confirm.present()\n  }\n\n  //delete comment\n  deleteComment(id){\n    console.log(\"deleting comment \"+id);\n\n    this.phenoApi.deleteComment(id).subscribe( //post comment trought api\n      data => {\n        this.comments=data.comments,\n        this.observation.comments=data.count\n      },\n      err => console.log(err),\n      () => this.getObservationComments()  //refresh the comments\n    );\n\n  }\n\n  //mark as best example\n  bestExample(id){\n\n    if(this.user.id=='null' || this.user.id==undefined){\n      this.navCtrl.push('LoginPage',{destination:ObservationPage,id:this.navParams.get('id')});\n    }else{\n\n        let best_example={\n          iduser:parseInt(this.user.id),\n          idobservation:this.navParams.get('id'),\n        }\n\n        this.phenoApi.postBestExample(best_example).subscribe( \n          data => {},\n          err => console.error(err),\n          () => {\n            this.observation.bestexample=1;\n            let toast = this.toastCtrl.create({\n              message: 'Observation marked as best example',\n              duration: 2000\n            });\n        \n            toast.present();\n          }\n        );\n\n    }\n\n    \n  }\n\n  //validate observation\n  validateObservation(id){\n\n    console.log(\"validated! \"+id);\n\n    this.nativeStorage.getItem('user')\n    .then(\n      data => {\n        this.user=data;\n        console.log(data);\n        if(this.user.id=='null' || this.user.id==undefined){\n          console.log(\"not validated...\");\n          this.navCtrl.push('LoginPage',{destination:ObservationPage,id:this.navParams.get('id')});\n        }else{\n          console.log(\"validating...\");\n\n            let validation={\n              iduser:parseInt(this.user.id),\n              idobservation:this.navParams.get('id'),\n            }\n\n            this.phenoApi.postValidation(validation).subscribe( //post comment trought api\n              data => {\n                this.observation.validations=data.validations,\n                this.observation.userValidates=data.userValidates\n              },\n              err => console.log(err),\n              () => console.log(this.observation)  //refresh the comments\n            );\n          }\n      },\n      error => console.error(error)\n    );\n    \n         }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/observation/observation.ts"],"sourceRoot":""}