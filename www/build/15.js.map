{"version":3,"sources":["../../src/pages/add-observation-details/add-observation-details.module.ts","../../src/pages/add-observation-details/add-observation-details.ts"],"names":[],"mappings":"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","file":"15.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddObservationDetailsPage } from './add-observation-details';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { HttpModule,Http } from '@angular/http';\n\nexport function createTranslateLoader(http: Http) {\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n}\n\n@NgModule({\n  declarations: [\n    AddObservationDetailsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddObservationDetailsPage),\n    TranslateModule.forChild({\n      loader: {\n                provide: TranslateLoader,\n                useFactory: (createTranslateLoader),\n                deps: [Http]\n              }\n    })\n  ],\n})\nexport class AddObservationDetailsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-observation-details/add-observation-details.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, Events } from 'ionic-angular';\nimport { NativeStorage } from '@ionic-native/native-storage';\nimport { Network } from '@ionic-native/network';\nimport { TranslateService } from '@ngx-translate/core';\n\n/**\n * Generated class for the AddObservationDetailsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-add-observation-details',\n  templateUrl: 'add-observation-details.html',\n})\nexport class AddObservationDetailsPage {\n\n  private observation:any={};\n  private title:any;\n  private description:any;\n  private networkStatus:any;\n\n  //string variables\n  private str_no_title_text:any;\n  private str_no_title:any;\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public nativeStorage: NativeStorage,\n    private alertCtrl:AlertController,\n    private network: Network,\n    private events: Events,\n    private translate: TranslateService\n  ) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AddObservationDetailsPage');\n    this.loadFromStorage();\n    this.checkNetwork();\n\n    this.getTranslatedStrings();\n  }\n\n  //check current network status and subscribe to events\n  checkNetwork(){\n    if (this.network.type === 'none') {\n      console.log('we have no connection!');\n      this.networkStatus=0;\n    }else{\n      this.networkStatus=1;\n    }\n\n    //listen for user disconnection event\n     this.events.subscribe('network:disconnected', (e) => {\n      this.networkStatus=0;\n    });\n\n    //listen for user disconnection event\n    this.events.subscribe('network:connected', (e) => {\n      this.networkStatus=1;\n    });\n  }\n\n  getTranslatedStrings(){\n    //get translated strings\n    this.translate.get('ADD_MEDIA_ERROR').subscribe(\n      value => {this.str_no_title= value}\n    )\n\n    this.translate.get('ADD_MEDIA_ERROR_2').subscribe(\n      value => {this.str_no_title_text= value}\n    )\n  }\n\n  loadFromStorage(){\n    this.nativeStorage.getItem('observation')\n      .then(\n        data => {console.log('in storage: '+JSON.stringify(data)),this.observation=data},\n        error => console.error(error)\n    );\n  }\n\n  showAlert(title,subtitle){\n    let alert = this.alertCtrl.create({\n      title: title,\n      subTitle: subtitle,\n      buttons: ['Ok']\n    });\n    alert.present();\n  }\n\n  goNext(stage_id){\n    //validate title field\n    if(this.observation.title!='' && this.observation.title!=undefined){\n      if(this.observation.description=='' || this.observation.description==undefined) this.observation.description=' ';\n\n      //save to storage\n      this.nativeStorage.setItem('observation',{specie:this.observation.specie,stage:this.observation.stage,title:this.observation.title,description:this.observation.description});\n      //go to next page\n      this.navCtrl.push('AddObservationMediaPage');\n    }else{\n      this.showAlert(this.str_no_title,this.str_no_title_text);\n    }\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-observation-details/add-observation-details.ts"],"sourceRoot":""}